---
import AngleEdge from "../ui/AngleEdge.astro";
import SpotlightItem from "../ui/SpotlightItem.astro";

const {
  items = [],
  bg = "surface",           // "surface" | "alt" | "primary-tint" | "accent-tint"
  nextBg = "alt",
  angleTop = true,
  angleBottom = true,
  dirTop = "right",
  dirBottom = "right",
  imageShape = "circle",
} = Astro.props;

const bgClass =
  bg === "alt" ? "section-alt" :
  bg === "primary-tint" ? "section-primary-tint" :
  bg === "accent-tint" ? "section-accent-tint" :
  "section-surface";

const nextColor =
  nextBg === "alt" ? "#F8FAFC" :
  nextBg === "primary-tint" ? "color-mix(in srgb, #2563EB 6%, #ffffff)" :
  nextBg === "accent-tint" ? "color-mix(in srgb, #F59E0B 6%, #ffffff)" :
  "#FFFFFF";
---

<section class={`section ${bgClass}`}>
  {angleTop && <AngleEdge position="top" direction={dirTop} fill="#FFFFFF" height={120} />}

  <div class="px-6 py-16 space-y-16 content-narrower">
    {items.map((it, i) => (
      <SpotlightItem
        image={it.image}
        title={it.title}
        body={it.body}
        href={it.href}
        reverse={i % 2 === 1}
        imageShape={it.imageShape ?? imageShape}
      />
    ))}
  </div>

  {angleBottom && <AngleEdge position="bottom" direction={dirBottom} fill={nextColor} height={120} />}
</section>
