---
import site from "../../config/site";
import AngleEdge from "../ui/AngleEdge.astro";

const {
  id,
  title = "Get in touch",
  bg = "surface",
  nextBg = "surface",
  angleTop = true,
  angleBottom = true,
  dirTop = "right",
  dirBottom = "right",
} = Astro.props;

const bgClass =
  bg === "alt" ? "section-alt" :
  bg === "primary-tint" ? "section-primary-tint" :
  bg === "accent-tint" ? "section-accent-tint" :
  "section-surface";

const nextColor =
  nextBg === "alt" ? "#F8FAFC" :
  nextBg === "primary-tint" ? "color-mix(in srgb, #2563EB 6%, #ffffff)" :
  nextBg === "accent-tint" ? "color-mix(in srgb, #F59E0B 6%, #ffffff)" :
  "#FFFFFF";
---

<section id={id} class={`section ${bgClass}`}>
  {angleTop && <AngleEdge position="top" direction={dirTop} fill="#FFFFFF" height={120} />}

  <div class="mx-auto px-6 py-20 content-narrow">
    <div class="grid lg:grid-cols-2 gap-12 items-start">
      <div class="rounded-lg border border-line bg-white/70 backdrop-blur p-6">
        <h2 class="text-3xl font-bold mb-3">{title}</h2>
        <p class="text-muted mb-6">
          Have a project in mind? Send a message and we‚Äôll get back to you shortly.
        </p>
        <ul class="space-y-3 text-sm">
          <li class="flex items-start gap-3"><span aria-hidden="true" class="mt-0.5">üìß</span>
            <span><span class="font-semibold">Email:</span> <a class="text-primary underline underline-offset-2" href={`mailto:${site.email}`}>{site.email}</a></span>
          </li>
          <li class="flex items-start gap-3"><span aria-hidden="true" class="mt-0.5">üìû</span>
            <span><span class="font-semibold">Phone:</span> <a class="text-primary underline underline-offset-2" href={`tel:${site.phone}`}>{site.phone}</a></span>
          </li>
          <li class="flex items-start gap-3"><span aria-hidden="true" class="mt-0.5">üìç</span>
            <span><span class="font-semibold">Address:</span> {site.address}</span>
          </li>
        </ul>
      </div>

      <form name="contact" method="POST" data-netlify="true" class="grid gap-4" netlify-honeypot="bot-field">
        <input type="hidden" name="form-name" value="contact" />
        <p class="hidden"><label>Don‚Äôt fill this out if you‚Äôre human: <input name="bot-field" /></label></p>

        <label class="grid gap-1">
          <span class="text-sm font-medium">Name</span>
          <input required class="border border-line rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary/40" name="name" placeholder="Jane Doe" />
        </label>
        <label class="grid gap-1">
          <span class="text-sm font-medium">Email</span>
          <input required type="email" class="border border-line rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary/40" name="email" placeholder="you@example.com" />
        </label>
        <label class="grid gap-1">
          <span class="text-sm font-medium">Message</span>
          <textarea required rows="5" class="border border-line rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary/40" name="message" placeholder="Say hello"></textarea>
        </label>

        <button class="justify-self-start px-6 py-2.5 rounded-md bg-primary text-white font-semibold hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-primary/50">
          Send Message
        </button>
      </form>
    </div>
  </div>

  {angleBottom && <AngleEdge position="bottom" direction={dirBottom} fill={nextColor} height={120} />}
</section>
